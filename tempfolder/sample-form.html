<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test form</title>
    <style>
        .container {
            display: flex;
            flex-direction: column;
        }
    </style>
</head>
<body>
    <div class="container">
        <h3>PQ Sending Test</h3>
        <div class="container">
                    <label>Client Number</label>
        <input type="text" class="client-number" required>
        <label>Month</label>
        <select class="month-select">
            <option value="Jan">January</option>
<option value="Feb">February</option>
<option value="Mar">March</option>
<option value="April">April</option>
<option value="May">May</option>
<option value="June">June</option>
<option value="July">July</option>
<option value="Aug">August</option>
<option value="Sept">September</option>
<option value="Oct">October</option>
<option value="Nov">November</option>
<option value="Dec">December</option>
</select>
<label>Year</label>
        <select class="year-select">
  <option value="2024">2024</option>
  <option value="2023">2023</option>
  <option value="2022">2022</option>
  <option value="2021">2021</option>
</select>
<select class="pq-select">
    <option value="general">General</option>
    <option value="lmia">LMIA</option>
    <option value="child-spr">Child Sponsorship</option>
    <option value="pgp-spr">Parent/Grandparent Sponsorship</option>
    <option value="spouse-spr">Spousal Sponsorship</option>
    <option value="handc">Humanitarian and Compassionate</option>
    <option value="pr-renewal">Permanent Residence Renewal</option>
    <option value="hsw">Home Support Worker / Home Child Care Provider</option>
  </select>
        <button onclick="sendRequest()">go</button>
        </div>
    </div>

    <script>
        async function sendRequest() {
            const client_number = document.querySelector(".client-number").value;
            const month_select = document.querySelector(".month-select").value;
            const year_select = document.querySelector(".year-select").value;
            const pq_select = document.querySelector(".pq-select").value;

            try {
                const response = await fetch('https://hook.us1.make.com/i2qufd2xhrhkduqgv22utdf2cl82ocop', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        client_number,
                        month_select,
                        year_select,
                        pq_select
                    })
                });

                // const data = await response.json();
                
            } catch (error) {
                messageDiv.textContent = 'Network error: Unable to reach the API.';
                messageDiv.className = 'message error';
            }
        }
    </script>
</body>
</html>
